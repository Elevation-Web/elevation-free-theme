@import "bootstrap/scss/functions";
@import "bootstrap/scss/variables";
@import "bootstrap/scss/mixins";
@import "../../assets/styles/scss/utilities/_functions";
@import "../../assets/styles/scss/utilities/_variables";
@import "../../assets/styles/scss/utilities/_mixins";
@import "../../assets/styles/scss/layout/_filters";
@import "../../assets/styles/scss/layout/_pagination";

$section: ".block__directory";
#{$section} {
	padding-bottom: 80px;

	.filter {
		border-top: none;
		padding-top: 60px;
		margin-bottom: 60px;
		@include media-breakpoint-down(lg) {
			padding-top: 30px;
			padding-bottom: 30px;
		}

		&__container {
			display: flex;
			flex-direction: column;
		}

		&__row {
			display: flex;
			flex-wrap: wrap;
			flex-direction: row;
			flex: 0 0 auto;
			width: 100%;
			column-gap: 40px;
			row-gap: 40px;
			padding-left: 100px;
			@include media-breakpoint-down(lg) {
				column-gap: 0;
				row-gap: 20px;
			}
			@include media-breakpoint-down(md) {
				padding-left: 0;
			}

			&-bottom {
				column-gap: 20px;
			}
		}

		&__label--row {
			@include font-heading;
			font-weight: 500;
			font-size: px-to-rem(13px);
			line-height: 1.2;
			letter-spacing: 0.91px;
			@include media-breakpoint-down(lg) {
				width: 100%;
				flex: 1 0 100%;
			}
		}

		&__item:not(.filter__item-button):not(.filter__item-filter-button) {
			align-items: center;
			display: flex;
			flex-wrap: wrap;
			flex: 0 0 250px;
			@include media-breakpoint-down(lg) {
				flex: 0 0 100%;
				max-width: 100%;
				flex-direction: column;
				align-items: flex-start;
			}
			@include media-breakpoint-up(xl) {
				&::before {
					content: "";
					background-color: $line-border-color;
					width: 1px;
					height: 39px;
					transform: translate(0%, -50%);
					position: absolute;
					bottom: unset;
					right: unset;
					left: -20px;
					top: 50%;
				}
				&:first-of-type {
					&::before {
						content: none;
					}
				}
			}
		}

		&__input {
			width: 418px;
			max-width: 100%;
			@include media-breakpoint-down(md) {
				width: 100%;
			}
			input {
				&::-webkit-input-placeholder {
					color: $container-tertiary;
					opacity: 1;
				}
				&::-moz-placeholder {
					color: $container-tertiary;
					opacity: 1;
				} /* firefox 19+ */
				&:-ms-input-placeholder {
					color: $container-tertiary;
					opacity: 1;
				} /* ie */
			}
		}

		&__item-button {
			flex: 0 0 110px;
			width: 110px;
			min-width: 110px;
			.cta--cta-dark {
				font-size: px-to-rem(11px);
				font-weight: 600;
				text-transform: uppercase;
				padding: 16px 25px;
				min-width: 110px;
			}
		}

		&__item-filter-button {
			flex: 0 0 auto;
			display: flex;
			justify-content: flex-end;
			.cta--cta-filter {
				padding: 13px 16px;
			}
		}
		&__label {
			&--row {
				@include media-breakpoint-up(md) {
					// flex: 0 0 85px;
					width: 100px;
					position: absolute;
					transform: translate(0%, -50%);
					position: absolute;
					bottom: unset;
					left: 0%;
					top: 50%;
				}
			}
		}
	}

	.filter-results {
		align-items: center;
		column-gap: 10px;
		display: flex;
		flex-wrap: wrap;
		align-content: flex-start;
		justify-content: space-between;
		row-gap: 30px;
		margin-bottom: 60px;
		&:not(.option-3) {
			order: 2;
			padding-left: 0;
			padding-top: 7px;
			.group-results {
				.label {
					margin-bottom: 20px;
				}
			}
		}
		&.option-3 {
			#clear_filters {
				margin-left: auto;
			}
		}
		.group-results {
			align-items: center;
			column-gap: 10px;
			row-gap: 8px;
			flex-wrap: wrap;
			display: none;
			.label {
				@include font-heading;
				font-style: normal;
				font-weight: 500;
				font-size: px-to-rem(18px);
				line-height: px-to-rem(26px);
				letter-spacing: 0.04em;
				color: #211f1f;
			}
			.result_filter {
				border: none;
				align-items: center;
				background-color: #f1f1f1;
				border-radius: 3px;
				color: #211f1f;
				column-gap: 5px;
				display: flex;
				flex-wrap: nowrap;
				font-size: px-to-rem(14px);
				font-weight: 500;
				justify-content: space-between;
				letter-spacing: 1px;
				line-height: px-to-rem(17px);
				padding: 6px 8px;
				transition: all 0.2s ease-in-out;
				.remove_filter {
					background-image: url("data:image/svg+xml,%3Csvg width='9' height='9' viewBox='0 0 9 9' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M5.55648 4.49936L8.77837 1.28451C8.91946 1.1434 8.99872 0.952011 8.99872 0.752449C8.99872 0.552887 8.91946 0.361499 8.77837 0.220387C8.63727 0.0792757 8.44591 0 8.24638 0C8.04685 0 7.85549 0.0792757 7.71439 0.220387L4.5 3.44273L1.28561 0.220387C1.14451 0.0792757 0.953154 -1.48685e-09 0.753621 0C0.554087 1.48685e-09 0.362726 0.0792757 0.221635 0.220387C0.0805431 0.361499 0.00127872 0.552887 0.00127871 0.752449C0.00127871 0.952011 0.0805431 1.1434 0.221635 1.28451L3.44352 4.49936L0.221635 7.71421C0.151406 7.78388 0.0956644 7.86676 0.0576247 7.95808C0.0195849 8.0494 0 8.14735 0 8.24627C0 8.3452 0.0195849 8.44315 0.0576247 8.53447C0.0956644 8.62579 0.151406 8.70867 0.221635 8.77833C0.291289 8.84857 0.37416 8.90432 0.465466 8.94237C0.556773 8.98041 0.654707 9 0.753621 9C0.852534 9 0.950468 8.98041 1.04177 8.94237C1.13308 8.90432 1.21595 8.84857 1.28561 8.77833L4.5 5.55599L7.71439 8.77833C7.78405 8.84857 7.86692 8.90432 7.95823 8.94237C8.04953 8.98041 8.14747 9 8.24638 9C8.34529 9 8.44323 8.98041 8.53453 8.94237C8.62584 8.90432 8.70871 8.84857 8.77837 8.77833C8.84859 8.70867 8.90434 8.62579 8.94238 8.53447C8.98042 8.44315 9 8.3452 9 8.24627C9 8.14735 8.98042 8.0494 8.94238 7.95808C8.90434 7.86676 8.84859 7.78388 8.77837 7.71421L5.55648 4.49936Z' fill='%23211F1F'/%3E%3C/svg%3E%0A");
					background-color: transparent;
					background-position: center;
					background-repeat: no-repeat;
					border: none;
					cursor: pointer;
					height: 10px;
					width: 10px;
					transition: all 0.1s ease-in-out;
				}
				&:hover {
					cursor: pointer;
					.remove_filter {
						background-image: url("data:image/svg+xml,%3Csvg width='9' height='9' viewBox='0 0 9 9' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M5.20331 4.14542L4.8486 4.49936L5.20331 4.8533L8.4252 8.06815L8.42624 8.06919C8.44961 8.09237 8.46816 8.11995 8.48082 8.15034C8.49348 8.18074 8.5 8.21334 8.5 8.24627C8.5 8.27921 8.49348 8.31181 8.48082 8.3422C8.46816 8.37259 8.44961 8.40018 8.42624 8.42336L8.42334 8.42626C8.40016 8.44963 8.37259 8.46818 8.34222 8.48083C8.31185 8.49349 8.27928 8.5 8.24638 8.5C8.21348 8.5 8.18091 8.49349 8.15054 8.48083C8.12017 8.46818 8.0926 8.44963 8.06942 8.42626L8.06838 8.42522L4.85399 5.20287L4.5 4.84801L4.14601 5.20287L0.931615 8.42522L0.930581 8.42626C0.907402 8.44963 0.879831 8.46818 0.849463 8.48083C0.819093 8.49349 0.78652 8.5 0.753621 8.5C0.720721 8.5 0.688147 8.49349 0.657778 8.48083C0.62741 8.46818 0.599839 8.44963 0.57666 8.42626L0.573761 8.42336C0.550392 8.40018 0.531842 8.3726 0.519181 8.3422C0.50652 8.31181 0.5 8.2792 0.5 8.24627C0.5 8.21334 0.50652 8.18074 0.519181 8.15034C0.531842 8.11995 0.550392 8.09237 0.573762 8.06919L0.574801 8.06815L3.79669 4.8533L4.1514 4.49936L3.79669 4.14542L0.575213 0.930982C0.575162 0.930931 0.575112 0.930881 0.575061 0.93083C0.527825 0.883507 0.501279 0.819353 0.501279 0.752449C0.501279 0.685472 0.527882 0.621253 0.575213 0.573915C0.622542 0.52658 0.686718 0.5 0.753621 0.5C0.820451 0.5 0.884562 0.526523 0.931876 0.573764C0.931927 0.573815 0.931977 0.573865 0.932028 0.573915L4.14601 3.79585L4.5 4.15071L4.85399 3.79585L8.06797 0.573915C8.068 0.573887 8.06803 0.573858 8.06806 0.573829C8.11538 0.526547 8.17952 0.5 8.24638 0.5C8.31328 0.5 8.37746 0.52658 8.42479 0.573915C8.47212 0.621254 8.49872 0.685473 8.49872 0.752449C8.49872 0.819384 8.47215 0.883565 8.42487 0.930895C8.42484 0.930924 8.42482 0.930953 8.42479 0.930982L5.20331 4.14542Z' fill='%23211F1F' stroke='%23CB4B3B'/%3E%3C/svg%3E%0A");
					}
				}
			}
		}
		#clear_filters {
			@include font-heading;
			background-color: transparent;
			border-bottom: 1px solid $light-primary;
			border: none;
			color: $light-primary;
			font-size: px-to-rem(11px);
			font-weight: 600;
			letter-spacing: 0.15em;
			line-height: px-to-rem(13px);
			text-transform: uppercase;
			text-decoration-line: underline;
		}
	}

	.block__header-results-short {
		display: flex;
		justify-content: space-between;
		align-items: center;
		position: relative;
		width: 100%;
		.total__results {
			@include font-heading;
			color: $container-tertiary;
			letter-spacing: 0.04em;
		}
		.sort__results {
			margin-left: auto;
			select {
				-webkit-appearance: none;
				-moz-appearance: none;
				appearance: none;
				background-image: url("data:image/svg+xml,%3Csvg width='8' height='5' viewBox='0 0 8 5' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L4 4L7 1' stroke='%239C9C9C'/%3E%3C/svg%3E%0A");
				background-repeat: no-repeat;
				background-color: transparent;
				background-position: calc(100% - 5px) center;
				background-size: auto;
				@include font-heading;
				border-radius: 1px;
				border: none;
				color: $container-tertiary;
				font-size: px-to-rem(12px);
				font-weight: 500;
				letter-spacing: 1.2;
				line-height: 2;
				min-height: 0;
				padding: 0 20px 0 0;
				text-align: right;
				text-transform: none;
				width: 136px;
				&::-webkit-input-placeholder {
					color: $container-tertiary;
					opacity: 1;
				}
				&::-moz-placeholder {
					color: $container-tertiary;
					opacity: 1;
				} /* firefox 19+ */
				&:-ms-input-placeholder {
					color: $container-tertiary;
					opacity: 1;
				} /* ie */
				&:active,
				&:focus {
					box-shadow: none;
					outline: none;
					color: $container-tertiary;
					&::-webkit-input-placeholder {
						color: $container-tertiary;
						opacity: 1;
					}
					&::-moz-placeholder {
						color: $container-tertiary;
						opacity: 1;
					} /* firefox 19+ */
					&:-ms-input-placeholder {
						color: $container-tertiary;
						opacity: 1;
					} /* ie */
				}
				option {
					color: $text;
				}
				@include media-breakpoint-down(sm) {
					background-size: px-to-rem(10px);
				}
			}
		}
	}

	.spiner-contain {
		background-image: url("../../assets/images/spiner.gif");
		background-position: center;
		background-repeat: no-repeat;
		background-size: contain;
		height: 40px;
		position: relative;
		width: 40px;
	}

	.row-cards {
		row-gap: var(--elev-gutter-x);

		.navigation {
			padding-top: 60px;
			margin-top: 30px;
		}
		.col + .navigation {
			border-top: 1px solid $line-border-color;
		}
		.navigation + .border-line {
			display: none;
		}
		.border-line {
			width: 100%;
			border-top: 1px solid $line-border-color;
		}

		@include media-breakpoint-up(md) {
			&.option-1 {
				.col {
					.card {
						.card__header {
							display: none;
						}
					}
				}
			}
			&.option-2 {
				.col {
					.card {
						.card__header {
							display: none;
						}
						.card__body {
							.card__excerpt {
								display: none;
							}
						}
					}
				}
			}
		}
	}

	$card: ".card";
	#{$card} {
		background: #ffffff;
		border-radius: 1px;
		border: 1px solid rgba(217, 217, 217, 0.418324);
		box-shadow: 0 0 0 rgba(0, 0, 0, 0.05);
		display: flex;
		flex-direction: column;
		height: 100%;
		overflow: hidden;
		position: relative;
		transition: all 0.4s ease;

		&__body {
			display: flex;
			flex-direction: column;
			flex: 1;
			gap: 17px;
			overflow: hidden;
			padding: 30px 40px 50px;
			position: relative;
			&::after {
				content: "";
				width: 0;
				bottom: 0;
				position: absolute;
				left: 0;
				height: 4px;
				background-color: $light-primary;
				transition: all 0.4s ease;
			}
			> *,
			* > * {
				color: $text;
				margin: 0;
			}
		}

		&__image {
			height: 176px;
			overflow: hidden;
			max-width: 100%;
			position: relative;

			img {
				transform: scale(1);
				transition: all 0.6s cubic-bezier(0.25, 0.8, 0.25, 1) 0s;
				height: 101% !important;
				object-fit: cover;
				object-position: center;
				width: 101%;
			}

			&--pdf {
				background-color: #eae8e6;
				img {
					object-fit: contain;
					object-position: center;
				}
			}
			&--video {
				&::before {
					content: "";
					background-image: url("data:image/svg+xml,%3Csvg width='47' height='47' viewBox='0 0 47 47' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M23.4238 46.8477C10.5079 46.8477 0 36.3397 0 23.4238C0 10.5079 10.5079 0 23.4238 0C36.3397 0 46.8477 10.5079 46.8477 23.4238C46.8477 36.3397 36.3397 46.8477 23.4238 46.8477ZM23.4238 2.43444C11.85 2.43444 2.43413 11.8503 2.43413 23.4238C2.43413 34.9974 11.85 44.4135 23.4238 44.4135C34.9977 44.4135 44.4135 34.9977 44.4135 23.4238C44.4135 11.85 34.9974 2.43444 23.4238 2.43444Z' fill='white'/%3E%3Cpath d='M18.0333 12.8956V33.9523C18.0333 34.5749 18.787 34.9407 19.3352 34.5827L35.4529 24.0564C35.9224 23.7497 35.9224 23.1019 35.4529 22.7953L19.3352 12.2652C18.7873 11.9072 18.0333 12.2721 18.0333 12.8956Z' fill='white'/%3E%3C/svg%3E%0A");
					background-size: contain;
					background-repeat: no-repeat;
					bottom: 0;
					height: 50px;
					left: 0;
					margin: auto;
					position: absolute;
					right: 0;
					top: 0;
					width: 50px;
					z-index: 10;
				}
			}
		}

		&__link {
			display: block;
			height: 100%;
		}

		&__title {
			font-size: px-to-rem(18px);
			font-weight: 500;
			letter-spacing: 0.04em;
			line-height: px-to-rem(26px);
			transition-duration: 0.4s;
			transition-property: border-bottom-color;
			transition-timing-function: ease-in-out;
			span,
			a {
				background-color: transparent;
				border-bottom-color: transparent;
				border-bottom-style: solid;
				border-bottom-width: px-to-rem(0.5px);
				display: inline;
				text-align: left;
				transition-duration: 0.4s;
				transition-property: border-bottom-color;
				transition-timing-function: ease-in-out;
				overflow-wrap: break-word;
				white-space: normal;
				word-break: break-word;
			}
		}

		&__excerpt,
		&__excerpt > * {
			@include font-body;
			font-weight: 400;
			font-size: px-to-rem(14px);
			line-height: px-to-rem(25px);
			letter-spacing: 0.03em;
		}

		&__excerpt {
			margin-bottom: 13px;
		}

		&__category {
			align-items: baseline;
			column-gap: 10px;
			display: flex;
			flex-wrap: wrap;
			row-gap: 8px;
			//margin-top: 13px;
			margin-top: auto;
			ul {
				padding: 0;
				list-style-type: none;
				display: flex;
				flex-wrap: wrap;
				align-items: center;
				column-gap: 10px;
				row-gap: 8px;
				li {
					> * {
						@include font-heading;
						background: transparent;
						border-radius: 1px;
						color: $container-tertiary;
						font-size: px-to-rem(14px);
						font-weight: 500;
						letter-spacing: 1px;
						line-height: px-to-rem(17px);
						padding: 0;
						display: block;
						text-decoration: none;
					}
				}
			}
		}

		&:hover,
		&.active {
			box-shadow: 4px 2px 15px rgba(0, 0, 0, 0.05);
			#{$card}__body {
				&::after {
					width: 100%;
				}
			}
			#{$card}__image {
				img {
					transform: scale(1.1);
				}
			}
			#{$card}__title {
				span {
					text-decoration-line: none;
					border-bottom-color: $light-primary !important;
					color: $light-primary;
				}
			}
		}
	}
}
