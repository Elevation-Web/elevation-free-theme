(()=>{"use strict";const e=window.wp.blocks,t=JSON.parse('{"title":"Image Gallery","name":"elevation/interior-components--image-gallery"}'),l=window.React,n=window.wp.i18n,a=window.wp.blockEditor,o=window.wp.components,i=window.wp.primitives,r=(0,l.createElement)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,l.createElement)(i.Path,{d:"M6.734 16.106l2.176-2.38-1.093-1.028-3.846 4.158 3.846 4.157 1.093-1.027-2.176-2.38h2.811c1.125 0 2.25.03 3.374 0 1.428-.001 3.362-.25 4.963-1.277 1.66-1.065 2.868-2.906 2.868-5.859 0-2.479-1.327-4.896-3.65-5.93-1.82-.813-3.044-.8-4.806-.788l-.567.002v1.5c.184 0 .368 0 .553-.002 1.82-.007 2.704-.014 4.21.657 1.854.827 2.76 2.657 2.76 4.561 0 2.472-.973 3.824-2.178 4.596-1.258.807-2.864 1.04-4.163 1.04h-.02c-1.115.03-2.229 0-3.344 0H6.734z"})),c=window.wp.element,{name:m,title:s}=t;(0,e.registerBlockType)(m,{title:s,edit:e=>{const{name:i}=t,{name:m,blockId:s}=(e=>{const t=e.split("/")[1].split("--");return{blockId:t.join("/"),name:t[1]}})(i),{attributes:g,setAttributes:d,context:p}=e,{img:w,link:u,isLazy:E,showCaption:_}=g,k=p["elevation/image-classname"];(0,c.useEffect)((()=>{d({inheritClassName:k||"media"})}),[k,d]);const h=(0,a.useBlockProps)({className:`${m} ${k}`}),C=e=>{const{url:t,id:l,caption:n}=e;d({img:{url:t,id:l,caption:n}})},[b,y]=(0,c.useState)(!1),I=(0,l.createElement)(a.InspectorControls,null,(0,l.createElement)(o.PanelBody,{title:(0,n.__)("Image Settings")},(0,l.createElement)(o.ToggleControl,{__nextHasNoMarginBottom:!0,label:"Defer image loading?",help:E?"Yes":"No",checked:E,onChange:e=>{d({isLazy:e})}}))),v=(0,l.createElement)(a.BlockControls,null,(0,l.createElement)(a.MediaReplaceFlow,{mediaId:w?.id,mediaUrl:w?.url,allowedTypes:["image"],onSelect:C,name:w?.url?(0,n.__)("Replace Image"):(0,n.__)("Add Image")}),(0,l.createElement)(o.Button,{variant:"secondary",onClick:()=>y(!b)},u.url?"Change Link":"Add Link to Image"),b&&(0,l.createElement)(o.Popover,{onClose:()=>y(!1)},(0,l.createElement)("form",{className:`${m}__form`},(0,l.createElement)(a.URLInput,{value:u.url,onChange:e=>{d({link:{...u,url:e}})}}),(0,l.createElement)(o.Button,{onClick:()=>y(!1),icon:r,label:(0,n.__)("Apply"),type:"submit"})),(0,l.createElement)(o.ToggleControl,{label:(0,n.__)("Open in new tab"),checked:u.target,onChange:e=>{d({link:{...u,target:e}})}})));return(0,l.createElement)(l.Fragment,null,I,(0,l.createElement)("div",{...h},v,w?.url?(0,l.createElement)(l.Fragment,null,(0,l.createElement)("img",{src:w?.url,className:`${m}__img`,loading:E?"lazy":"eager"}),w?.caption&&(0,l.createElement)("span",{className:`${m}__img--caption`},w.caption)):(0,l.createElement)(a.MediaPlaceholder,{onSelect:C,allowedTypes:["image"],multiple:!1,labels:{title:"Image"}})))}})})();